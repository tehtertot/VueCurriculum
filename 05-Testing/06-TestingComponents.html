<h1>Testing Components</h1>
<h2>Objectives:</h2>
<ul>
  <li>Learn how to test a component in a Vue app</li>
  <li>Learn about vue-test-utils</li>
  <li>Understand where testing components fits into the larger architecture</li>
</ul>
<h2>New testing tools</h2>
<p>
  So far, what we've done is written unit tests for JavaScript functions. This
  is really similar to what we would be doing if we were testing some
  functionality in Vue that lived in a service or util file. Usually, those
  files exist to provide functions to the rest of the application that are
  useful, but aren't entirely necessary until the app grows in complexity or
  there is a good reason to put something into its own file (like being able to
  reuse it in multiple components). Now, we'll dive a bit deeper into testing by
  writing our first integration test. The classification here is a bit loose.
  Some people might say that testing a single component is a unit test. We're of
  the opinion that components can be complex with lots of moving parts, and that
  the term "integration test" better describes the reality of testing
  components. That being said, let's take a look at how we can test a component!
</p>
<p>
  First, we'll need to build an app so that we have some components to test.
  Then, we'll need to learn about some new matchers and tools that Vue makes
  available to us. To start, <a href="">download</a> this simple counter app.
  We've gone through the setup process using the vue command line tools and have
  manually selected unit tests with Jest as an option. Take a moment to run the
  app and familiarize yourself with the code, once you're comfortable let's get
  testing!
</p>
<p>
  The good news is that the Vue command line tools have already done most of the
  initial setup work for us. Go ahead and look in the "tests" folder. Vue uses
  <code>.spec.js</code> as the file extension rather than <code>.test.js</code>,
  but it means essentially the same thing and can be used interchangeably. Also
  notice that it's in a folder called unit. This just goes to show you that
  naming and categorization can be a matter of opinion. We'll leave it in a
  folder called unit for now. If you want to test your chops in a bit of a real
  world scenario, you can stop reading here and check out the vue-test-utils
  <a href="https://vue-test-utils.vuejs.org/guides/#getting-started"
    >documentation</a
  >. Try to use them to build a test suite for this app and use the rest of the
  lesson as a reference. Either way, you should take a look at the documentation
  for a few minutes before moving on.
</p>
<p>
  So, what do we want to test? Well, let's remember that we want our tests to be
  consistent, relevant, and robust. That means we don't want to test every
  single thing. And we definitely don't want to fall into a trap where we're
  just testing how Vue works. For instance, we don't need to check that the
  click handler will call upon our function, we can assume that works. Let's
  instead test whether or not the click of the buttons produces the correct
  result. There are a few distinct things we should test:
</p>
<ul>
  <li>
    Our initial state is working properly. While it may feel like "testing the
    framework", it can help down the road if we accidentally change something.
    It's also just a good illustration of what is possible with vue-test-utils
  </li>
  <li>The functionality of the increment button</li>
  <li>The functionality of the reset button</li>
</ul>
<p>Let's use those categories to break our suite down into sub-suites.</p>
<h4>counter.spec.js</h4>
<pre data-language="javascript">
  describe("Counter.vue", () => {
    // tests for initial state will go here
    // we're not going to make a sub-suite for those
    describe("increment button", () => {});
    describe("reset button", () => {});
  });
</pre>
